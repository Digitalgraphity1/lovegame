<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Love Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #fda4af; /* rose-300 */
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #f43f5e; /* rose-500 */
    }
    .page-section {
      display: none; /* Hidden by default */
      animation: fadeIn 0.5s ease-in-out;
    }
    .page-section.active {
      display: block; /* Or flex/grid if needed for inner layout */
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0px); }
    }
    .love-meter-bar-inner {
        transition: width 2s ease-out, background-color 0.5s ease-in-out;
    }
    /* Heart pulse animation (can also use Tailwind's animate-pulse) */
    .heart-pulse {
        animation: pulseHeart 1.5s infinite ease-in-out;
    }
    @keyframes pulseHeart {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    /* Bounce animation for decorative hearts */
    .heart-bounce {
        animation: bounceHeart 2s infinite;
    }
    @keyframes bounceHeart {
        0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
        40% {transform: translateY(-15px);}
        60% {transform: translateY(-7px);}
    }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.6.0",
    "react/": "https://esm.sh/react@^19.1.0/"
  }
}
</script>
</head>
<body class="bg-gradient-to-br from-rose-100 via-pink-100 to-red-100 text-gray-800 selection:bg-red-300 selection:text-white">

  <div id="app-container" class="min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden">
    <!-- Global Decorative Sparkles -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute top-10 left-10 w-16 h-16 text-pink-300 opacity-50 animate-pulse"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute bottom-10 right-10 w-12 h-12 text-red-300 opacity-50 animate-pulse delay-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
    
    <div id="main-content-area" class="z-10 w-full max-w-md">

      <!-- Page 1: Enter First Person's Name -->
      <div id="page1" class="page-section w-full bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6 md:p-10 relative overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -top-4 -left-4 w-20 h-20 text-pink-200 opacity-50 transform rotate-[-15deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -bottom-3 -right-3 w-16 h-16 text-red-200 opacity-60 transform rotate-[20deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
        <header class="text-center mb-6 md:mb-8 relative z-10">
          <div class="flex items-center justify-center text-2xl md:text-3xl font-bold text-red-500 mb-4">Love Calculator <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 md:w-8 md:h-8 ml-2 text-red-400 heart-pulse"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg></div>
          <h1 class="text-2xl md:text-3xl font-semibold text-pink-600">Let’s Begin the Love Test!</h1>
        </header>
        <main class="relative z-10 space-y-6">
          <div>
            <label for="name1Input" class="block text-md font-medium text-pink-700 mb-1">Enter Your Name</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-pink-400"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg></div>
              <input type="text" id="name1Input" placeholder="E.g., Romeo, Juliet" class="w-full pl-10 pr-3 py-3 border border-pink-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-colors placeholder-pink-300 text-pink-700">
            </div>
            <p id="name1Error" class="mt-2 text-sm text-red-500 animate-pulse"></p>
          </div>
          <button id="page1NextButton" class="w-full flex items-center justify-center px-6 py-3 text-lg font-semibold text-white bg-red-500 hover:bg-red-600 rounded-full shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-75 transition-all duration-300 ease-in-out transform hover:scale-105 group">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            Next 
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-2 transform transition-transform duration-300 group-hover:translate-x-1"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg>
          </button>
        </main>
        <footer class="mt-8 md:mt-12 relative z-10">
          <div id="ad-banner-page1" class="w-full h-[60px] md:h-[90px] bg-pink-100/70 border border-dashed border-pink-300 rounded-lg flex items-center justify-center text-pink-500 my-4 shadow-inner p-2"><p class="text-xs md:text-sm text-center">Advertisement Banner 1 - Discover true love!</p></div>
        </footer>
      </div>

      <!-- Page 2: Enter Second Person's Name -->
      <div id="page2" class="page-section w-full bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6 md:p-10 relative overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -top-4 -left-4 w-20 h-20 text-pink-200 opacity-50 transform rotate-[-15deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -bottom-3 -right-3 w-16 h-16 text-red-200 opacity-60 transform rotate-[20deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
        <header class="text-center mb-6 md:mb-8 relative z-10">
          <div class="flex items-center justify-center text-2xl md:text-3xl font-bold text-red-500 mb-4">Love Calculator <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 md:w-8 md:h-8 ml-2 text-red-400 heart-pulse"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg></div>
          <h1 class="text-2xl md:text-3xl font-semibold text-pink-600">Who’s Your Love Match?</h1>
        </header>
        <main class="relative z-10 space-y-6">
          <p class="text-center text-lg text-pink-600">Your name: <span id="displayName1" class="font-semibold text-red-500"></span></p>
          <div>
            <label for="name2Input" class="block text-md font-medium text-pink-700 mb-1">Enter Your Partner’s Name</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 text-pink-400"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg></div>
              <input type="text" id="name2Input" placeholder="E.g., Your Crush, Soulmate" class="w-full pl-10 pr-3 py-3 border border-pink-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-colors placeholder-pink-300 text-pink-700">
            </div>
            <p id="name2Error" class="mt-2 text-sm text-red-500 animate-pulse"></p>
          </div>
          <button id="page2NextButton" class="w-full flex items-center justify-center px-6 py-3 text-lg font-semibold text-white bg-red-500 hover:bg-red-600 rounded-full shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-75 transition-all duration-300 ease-in-out transform hover:scale-105 group">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            Next
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-2 transform transition-transform duration-300 group-hover:translate-x-1"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg>
          </button>
        </main>
        <footer class="mt-8 md:mt-12 relative z-10">
          <div id="ad-banner-page2" class="w-full h-[60px] md:h-[90px] bg-pink-100/70 border border-dashed border-pink-300 rounded-lg flex items-center justify-center text-pink-500 my-4 shadow-inner p-2"><p class="text-xs md:text-sm text-center">Advertisement Banner 2 - Find your perfect partner!</p></div>
        </footer>
      </div>

      <!-- Page 3: Guess Percentage -->
      <div id="page3" class="page-section w-full bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6 md:p-10 relative overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -top-4 -left-4 w-20 h-20 text-pink-200 opacity-50 transform rotate-[-15deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -bottom-3 -right-3 w-16 h-16 text-red-200 opacity-60 transform rotate-[20deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
        <header class="text-center mb-6 md:mb-8 relative z-10">
          <div class="flex items-center justify-center text-2xl md:text-3xl font-bold text-red-500 mb-4">Love Calculator <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 md:w-8 md:h-8 ml-2 text-red-400 heart-pulse"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg></div>
          <h1 class="text-2xl md:text-3xl font-semibold text-pink-600">What Do You Think Your Love Score Will Be?</h1>
        </header>
        <main class="relative z-10 space-y-6 text-center">
          <p class="text-lg text-pink-600">
            Between <span id="displayName1Page3" class="font-semibold text-red-500"></span> and <span id="displayName2Page3" class="font-semibold text-red-500"></span>...
          </p>
          <div class="flex justify-center items-center space-x-2 my-4">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-red-400 heart-bounce"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10 text-red-500 heart-bounce" style="animation-delay: 0.15s;"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-red-400 heart-bounce" style="animation-delay: 0.3s;"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
          </div>
          <div>
            <label for="guessPercentageInput" class="block text-md font-medium text-pink-700 mb-1">Your Guess (0-100%)</label>
            <select id="guessPercentageInput" class="w-full p-3 border border-pink-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-colors text-pink-700 bg-white">
              <option value="" disabled selected>Select a percentage...</option>
            </select>
            <p id="guessError" class="mt-2 text-sm text-red-500 animate-pulse"></p>
          </div>
          <button id="page3SubmitButton" class="w-full flex items-center justify-center px-6 py-3 text-lg font-semibold text-white bg-red-500 hover:bg-red-600 rounded-full shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-75 transition-all duration-300 ease-in-out transform hover:scale-105">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            Submit & Reveal Score
          </button>
        </main>
        <footer class="mt-8 md:mt-12 relative z-10">
          <div id="ad-banner-page3" class="w-full h-[60px] md:h-[90px] bg-pink-100/70 border border-dashed border-pink-300 rounded-lg flex items-center justify-center text-pink-500 my-4 shadow-inner p-2"><p class="text-xs md:text-sm text-center">Advertisement Banner 3 - Guess your score and win!</p></div>
        </footer>
      </div>

      <!-- Page 4: Result -->
      <div id="page4" class="page-section w-full bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6 md:p-10 relative overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -top-4 -left-4 w-20 h-20 text-pink-200 opacity-50 transform rotate-[-15deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute -bottom-3 -right-3 w-16 h-16 text-red-200 opacity-60 transform rotate-[20deg]"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z" /></svg>
        <header class="text-center mb-6 md:mb-8 relative z-10">
          <div class="flex items-center justify-center text-2xl md:text-3xl font-bold text-red-500 mb-4">Love Calculator <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 md:w-8 md:h-8 ml-2 text-red-400 heart-pulse"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg></div>
          <h1 class="text-2xl md:text-3xl font-semibold text-pink-600">Here’s Your Love Compatibility!</h1>
        </header>
        <main class="relative z-10 text-center">
          <div class="my-4 p-4 bg-rose-50 rounded-lg shadow-inner">
            <p class="text-xl md:text-2xl font-semibold text-pink-700">
              <span id="resultName1" class="text-red-500"></span>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="inline-block w-6 h-6 mx-2 text-red-400"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
              <span id="resultName2" class="text-red-500"></span>
            </p>
          </div>
          
          <!-- Love Meter -->
          <div class="my-6 md:my-8 flex flex-col items-center">
            <div class="w-full max-w-xs bg-pink-200 rounded-full h-10 md:h-12 shadow-inner overflow-hidden relative">
              <div id="loveMeterBarInner" class="love-meter-bar-inner h-full rounded-full flex items-center justify-end pr-2" style="width: 0%;">
                <svg id="loveMeterHeartIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-white/80 hidden"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
              </div>
              <div id="loveMeterText" class="absolute inset-0 flex items-center justify-center text-xl md:text-2xl font-bold text-white mix-blend-overlay pointer-events-none">0%</div>
            </div>
            <div id="loveMeterFinalScore" class="mt-3 text-4xl md:text-5xl font-bold text-red-600 flex items-center">
              0% <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10 md:w-12 md:h-12 ml-2 text-red-500 heart-pulse"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>
            </div>
          </div>

          <p id="guessedPercentageResult" class="text-md text-gray-600 my-3"></p>
          <p id="loveMessage" class="text-lg md:text-xl text-pink-600 my-4 px-2"></p>

          <!-- Share Buttons -->
          <div class="mt-6 md:mt-8">
            <p class="text-center text-lg text-pink-600 font-semibold mb-3">Share Your Love Score!</p>
            <div id="shareButtonsContainer" class="flex flex-wrap justify-center gap-3 md:gap-4">
              {/* Share buttons will be populated by JS */}
            </div>
          </div>

          <button id="tryAgainButton" class="w-full mt-8 flex items-center justify-center px-6 py-3 text-lg font-semibold text-white bg-pink-500 hover:bg-pink-600 focus:ring-pink-400 rounded-full shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-opacity-75 transition-all duration-300 ease-in-out transform hover:scale-105">
            Calculate Another Love!
          </button>
        </main>
        <footer class="mt-8 md:mt-12 relative z-10">
          <div id="page4AdContainerSpecific" class="flex justify-center items-center my-6 min-h-[60px] w-full max-w-[468px] mx-auto">
            {/* Page 4 specific ad script will be loaded here */}
          </div>
          <div id="ad-banner-page4-generic" class="w-full h-[60px] md:h-[90px] bg-pink-100/70 border border-dashed border-pink-300 rounded-lg flex items-center justify-center text-pink-500 my-4 shadow-inner p-2"><p class="text-xs md:text-sm text-center">Advertisement Banner 4 - More Fun Apps!</p></div>
        </footer>
      </div>
    </div>
  </div>

  <script>
    // --- Global State ---
    let currentName1 = '';
    let currentName2 = '';
    let currentGuessedPercentage = null;
    let currentLoveScore = null;

    const percentageOptions = Array.from({ length: 10 }, (_, i) => (i + 1) * 10);

    // --- DOM Elements ---
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const page3 = document.getElementById('page3');
    const page4 = document.getElementById('page4');
    const pages = [page1, page2, page3, page4];

    const name1Input = document.getElementById('name1Input');
    const name1Error = document.getElementById('name1Error');
    const page1NextButton = document.getElementById('page1NextButton');

    const displayName1 = document.getElementById('displayName1');
    const name2Input = document.getElementById('name2Input');
    const name2Error = document.getElementById('name2Error');
    const page2NextButton = document.getElementById('page2NextButton');

    const displayName1Page3 = document.getElementById('displayName1Page3');
    const displayName2Page3 = document.getElementById('displayName2Page3');
    const guessPercentageInput = document.getElementById('guessPercentageInput');
    const guessError = document.getElementById('guessError');
    const page3SubmitButton = document.getElementById('page3SubmitButton');

    const resultName1 = document.getElementById('resultName1');
    const resultName2 = document.getElementById('resultName2');
    const loveMeterBarInner = document.getElementById('loveMeterBarInner');
    const loveMeterHeartIcon = document.getElementById('loveMeterHeartIcon');
    const loveMeterText = document.getElementById('loveMeterText');
    const loveMeterFinalScore = document.getElementById('loveMeterFinalScore');
    const guessedPercentageResult = document.getElementById('guessedPercentageResult');
    const loveMessageElement = document.getElementById('loveMessage');
    const shareButtonsContainer = document.getElementById('shareButtonsContainer');
    const tryAgainButton = document.getElementById('tryAgainButton');
    const page4AdContainerSpecific = document.getElementById('page4AdContainerSpecific');


    // --- Helper Functions ---
    function showPage(pageId) {
      pages.forEach(p => {
        if (p.id === pageId) {
          p.classList.add('active');
        } else {
          p.classList.remove('active');
        }
      });
      window.scrollTo(0, 0); // Scroll to top on page change
    }

    function resetCalculator() {
      currentName1 = '';
      currentName2 = '';
      currentGuessedPercentage = null;
      currentLoveScore = null;

      name1Input.value = '';
      name2Input.value = '';
      guessPercentageInput.value = '';
      name1Error.textContent = '';
      name2Error.textContent = '';
      guessError.textContent = '';
      if (page4AdContainerSpecific) {
        page4AdContainerSpecific.innerHTML = ''; // Clear previous ad
        delete page4AdContainerSpecific.dataset.scriptsLoaded;
      }
    }

    function calculateLoveScore() {
      if (!currentName1.trim() || !currentName2.trim()) {
        currentLoveScore = 0;
        return 0;
      }
      const combinedNames = (currentName1.trim() + currentName2.trim()).toLowerCase();
      let hash = 0;
      for (let i = 0; i < combinedNames.length; i++) {
        const char = combinedNames.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash |= 0; // Convert to 32bit integer
      }
      const score = (Math.abs(hash) % 70) + 31; // Ensures score is at least 31, up to 100
      currentLoveScore = Math.min(100, Math.max(1, score));
      return currentLoveScore;
    }

    function getLoveMessage(score) {
      if (score === null) return "";
      if (score < 30) return "Hmm, a tiny spark! Perhaps explore friendship first? Keep the vibes positive!";
      if (score < 50) return "A gentle connection is budding! Nurture it with fun dates and see where it leads.";
      if (score < 70) return "Looking good! There's definite chemistry here. Keep those hearts fluttering!";
      if (score < 90) return "Wow, a strong and beautiful connection! This has amazing potential. Cherish it!";
      return "✨ Soulmates Alert! ✨ An extraordinary love written in the stars! This is the real deal!";
    }
    
    function getMeterColor(p) {
        if (p < 30) return 'bg-pink-400';
        if (p < 60) return 'bg-rose-400';
        if (p < 90) return 'bg-red-500';
        return 'bg-red-600';
    }

    function updateLoveMeterUI(percentage) {
        loveMeterBarInner.style.width = `${percentage}%`;
        loveMeterText.textContent = `${percentage}%`;
        loveMeterFinalScore.childNodes[0].textContent = `${percentage}% `; // Update the text node part

        // Update color - remove old, add new
        const colors = ['bg-pink-400', 'bg-rose-400', 'bg-red-500', 'bg-red-600'];
        colors.forEach(c => loveMeterBarInner.classList.remove(c));
        loveMeterBarInner.classList.add(getMeterColor(percentage));

        if (percentage > 10) {
            loveMeterHeartIcon.classList.remove('hidden');
        } else {
            loveMeterHeartIcon.classList.add('hidden');
        }
    }
    
    function populateShareButtons() {
        const shareText = `My love score with ${currentName2} is ${currentLoveScore}%! Calculated by Love Calculator. ❤️`;
        const shareUrl = window.location.href.split('#')[0]; // Base URL
        const encodedText = encodeURIComponent(shareText);
        const encodedUrl = encodeURIComponent(shareUrl);

        const shareLinks = [
            { name: 'Facebook', icon: '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"></path></svg>', url: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedText}`, color: 'bg-blue-600 hover:bg-blue-700' },
            { name: 'Twitter', icon: '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>', url: `https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`, color: 'bg-sky-500 hover:bg-sky-600' },
            { name: 'WhatsApp', icon: '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21h.01c5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM9.54 17.43c-.39.2-1.04.46-1.83.26-.86-.23-1.42-.86-1.95-1.83-.58-1.04-.95-2.21-.95-3.48 0-2.04 1.04-3.85 2.95-5.02.39-.26.78-.39 1.1-.39h.33c.26 0 .46.07.65.33.19.26.65 1.55.71 1.68.07.13.13.33 0 .52-.13.19-.26.33-.46.52-.19.19-.39.39-.52.58-.13.19-.26.39-.13.65.26.52.65 1.1.98 1.49 1.04 1.23 1.75 1.55 2.27 1.81.26.13.52.19.71.13.19-.07.85-.46.98-.58.26-.26.46-.19.71-.13.26.07.85.39 1.42.85.13.13.26.26.33.39.07.13.07.26 0 .39-.07.13-.52.58-.91.98-.33.33-.71.58-.98.65-.33.07-1.04 0-1.5-.13z"></path></svg>', url: `https://api.whatsapp.com/send?text=${encodedText}%20${encodedUrl}`, color: 'bg-green-500 hover:bg-green-600' },
            { name: 'Instagram', icon: '<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.802C8.846 3.965 8.502 3.977 7.248 4.031c-2.892.131-4.125 1.362-4.255 4.255-.054 1.254-.065 1.598-.065 4.713s.011 3.459.065 4.713c.132 2.893 1.361 4.125 4.255 4.255 1.254.054 1.598.065 4.752.065s3.498-.011 4.752-.065c2.893-.13 4.125-1.362 4.255-4.255.054-1.254.065-1.598.065-4.713s-.011-3.459-.065-4.713c-.13-2.893-1.362-4.125-4.255-4.255-1.254-.054-1.598-.065-4.752-.065zm0 2.882c-2.014 0-3.631 1.617-3.631 3.631s1.617 3.631 3.631 3.631 3.631-1.617 3.631-3.631-1.617-3.631-3.631-3.631zm0 5.962c-1.289 0-2.331-1.042-2.331-2.331s1.042-2.331 2.331-2.331 2.331 1.042 2.331 2.331-1.042 2.331-2.331 2.331zm4.603-6.955c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25z"></path></svg>', url: 'https://www.instagram.com', color: 'bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 hover:opacity-90', isPlaceholder: true }
        ];
        
        shareButtonsContainer.innerHTML = ''; // Clear old buttons
        shareLinks.forEach(link => {
            const a = document.createElement('a');
            a.href = link.isPlaceholder ? '#' : link.url;
            if (!link.isPlaceholder) {
                a.target = '_blank';
                a.rel = 'noopener noreferrer';
            }
            a.title = link.isPlaceholder ? `${link.name} (Open App)` : `Share on ${link.name}`;
            a.className = `flex items-center justify-center p-3 rounded-full text-white shadow-md hover:shadow-lg transition-all duration-200 ease-in-out transform hover:scale-110 ${link.color}`;
            a.innerHTML = link.icon + `<span class="sr-only">Share on ${link.name}</span>`;
            if (link.isPlaceholder) {
                a.onclick = (e) => { e.preventDefault(); alert('Open your Instagram app to share!'); };
            }
            shareButtonsContainer.appendChild(a);
        });
    }

    function loadPage4SpecificAd() {
        const adContainer = page4AdContainerSpecific;
        if (adContainer && !adContainer.dataset.scriptsLoaded) {
            const existingScripts = adContainer.querySelectorAll('script[src*="highperformanceformat.com"]');
            if (existingScripts.length > 0) {
                adContainer.dataset.scriptsLoaded = 'true';
                return;
            }

            adContainer.innerHTML = ''; 

            const script1 = document.createElement('script');
            script1.type = 'text/javascript';
            script1.innerHTML = `
                window.atOptions = {
                    'key' : '335dbfb16faf973bd2007ed03f552ceb',
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                };
            `;

            const script2 = document.createElement('script');
            script2.type = 'text/javascript';
            script2.src = '//www.highperformanceformat.com/335dbfb16faf973bd2007ed03f552ceb/invoke.js';
            script2.async = true;

            adContainer.appendChild(script1);
            adContainer.appendChild(script2);
            adContainer.dataset.scriptsLoaded = 'true';
        }
    }


    // --- Event Listeners ---
    page1NextButton.addEventListener('click', () => {
      const name = name1Input.value.trim();
      if (name === '') {
        name1Error.textContent = 'Oops! Your name cannot be empty, lovebird.';
        return;
      }
      name1Error.textContent = '';
      currentName1 = name;
      displayName1.textContent = currentName1;
      showPage('page2');
    });
    
    name1Input.addEventListener('input', () => { if (name1Error.textContent) name1Error.textContent = ''; });


    page2NextButton.addEventListener('click', () => {
      const name = name2Input.value.trim();
      if (name === '') {
        name2Error.textContent = 'Every love story needs two names! Please enter one.';
        return;
      }
      if (name.toLowerCase() === currentName1.toLowerCase()) {
        name2Error.textContent = 'A little self-love is great, but try a different name for your partner!';
        return;
      }
      name2Error.textContent = '';
      currentName2 = name;
      displayName1Page3.textContent = currentName1;
      displayName2Page3.textContent = currentName2;
      showPage('page3');
    });
    
    name2Input.addEventListener('input', () => { if (name2Error.textContent) name2Error.textContent = ''; });

    page3SubmitButton.addEventListener('click', () => {
      const guess = guessPercentageInput.value;
      if (guess === '' || guess === null) {
        guessError.textContent = 'Take a wild guess! What do you feel?';
        return;
      }
      guessError.textContent = '';
      currentGuessedPercentage = parseInt(guess, 10);
      calculateLoveScore();

      resultName1.textContent = currentName1;
      resultName2.textContent = currentName2;
      
      setTimeout(() => updateLoveMeterUI(currentLoveScore), 100); // Animate after a brief delay

      if (currentGuessedPercentage !== null) {
        let guessMsg = `You guessed: <span class="font-semibold text-pink-500">${currentGuessedPercentage}%</span>`;
        if (currentLoveScore !== null) {
            if (Math.abs(currentGuessedPercentage - currentLoveScore) < 10 && currentGuessedPercentage !== currentLoveScore) {
                guessMsg += " - So close!";
            } else if (currentGuessedPercentage === currentLoveScore) {
                guessMsg += " - You guessed it perfectly! Intuition on point!";
            }
        }
        guessedPercentageResult.innerHTML = guessMsg;
      } else {
        guessedPercentageResult.innerHTML = '';
      }

      loveMessageElement.textContent = getLoveMessage(currentLoveScore);
      populateShareButtons();
      loadPage4SpecificAd();
      showPage('page4');
    });
    
    guessPercentageInput.addEventListener('change', () => { if (guessError.textContent) guessError.textContent = ''; });

    tryAgainButton.addEventListener('click', () => {
      resetCalculator();
      showPage('page1');
    });

    // --- Initial Setup ---
    document.addEventListener('DOMContentLoaded', () => {
      // Populate percentage options
      percentageOptions.forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = `${opt}%`;
        guessPercentageInput.appendChild(option);
      });
      
      resetCalculator(); // Clear state and inputs
      showPage('page1'); // Show the first page
    });

  </script>
</body>
</html>
